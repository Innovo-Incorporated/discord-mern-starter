(this["webpackJsonpdiscord-fronend"]=this["webpackJsonpdiscord-fronend"]||[]).push([[0],{65:function(e,a,n){e.exports=n(85)},70:function(e,a,n){},71:function(e,a,n){},72:function(e,a,n){},76:function(e,a,n){},81:function(e,a,n){},82:function(e,a,n){},83:function(e,a,n){},84:function(e,a,n){},85:function(e,a,n){"use strict";n.r(a);var t=n(2),c=n.n(t),l=n(20),r=n.n(l),s=(n(70),n(71),n(30)),o=(n(72),n(35)),i=n.n(o),m=n(46),u=n.n(m),d=n(13),h=n(22),p=Object(h.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,a){e.channelId=a.payload.channelId,e.channelName=a.payload.channelName}}}),E=p.actions.setChannelInfo,f=function(e){return e.app.channelId},g=function(e){return e.app.channelName},v=p.reducer,b=(n(76),function(e){var a=e.id,n=e.channelName,t=Object(d.b)();return c.a.createElement("div",{className:"sidebarChannel",onClick:function(){return t(E({channelId:a,channelName:n}))}},c.a.createElement("h4",null,c.a.createElement("span",{className:"sidebarChannel__hash"},"#"),n))}),_=n(47),N=n.n(_),S=n(48),I=n.n(S),j=n(49),O=n.n(j),w=n(99),C=n(50),y=n.n(C),k=n(51),z=n.n(k),D=n(52),H=n.n(D),A=Object(h.b)({name:"user",initialState:{user:null},reducers:{login:function(e,a){e.user=a.payload},logout:function(e){e.user=null}}}),B=A.actions,V=B.login,x=B.logout,G=function(e){return e.user.user},M=A.reducer,P=n(24),T=P.a.initializeApp({apiKey:"AIzaSyDN6cVhSzhs64pXnTQ8QqulVqrf31AJPG8",authDomain:"discord-f0486.firebaseapp.com",databaseURL:"https://discord-f0486.firebaseio.com",projectId:"discord-f0486",storageBucket:"discord-f0486.appspot.com",messagingSenderId:"198422160339",appId:"1:198422160339:web:729ed4ca74433cef690526",measurementId:"G-CMG2V852S3"}).firestore(),J=P.a.auth(),L=new P.a.auth.GoogleAuthProvider,U=T,W=function(){var e=Object(d.c)(G),a=Object(t.useState)([]),n=Object(s.a)(a,2),l=n[0],r=n[1];Object(t.useEffect)((function(){U.collection("channels").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]);return c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar__top"},c.a.createElement("h3",null,"Clever Programmer"),c.a.createElement(i.a,null)),c.a.createElement("div",{className:"sidebar__channels"},c.a.createElement("div",{className:"sidebar__channelsHeader"},c.a.createElement("div",{className:"sidebar__header"},c.a.createElement(i.a,null),c.a.createElement("h4",null,"Text Channels")),c.a.createElement(u.a,{onClick:function(e){e.preventDefault();var a=prompt("Enter a new channel name");a&&U.collection("channels").add({channelName:a})},className:"sidebar__addChannel"})),c.a.createElement("div",{className:"sidebar__channelsList"},l.map((function(e){var a=e.id,n=e.channel;return c.a.createElement(b,{key:a,id:a,channelName:n.channelName})})))),c.a.createElement("div",{className:"sidebar__voice"},c.a.createElement(N.a,{className:"sidebar__voiceIcons",fontSize:"large"}),c.a.createElement("div",{className:"sidebar__voiceInfo"},c.a.createElement("h3",null,"Voice Connected"),c.a.createElement("p",null,"Stream")),c.a.createElement("div",{className:"sidebar__voiceIcons"},c.a.createElement(I.a,null),c.a.createElement(O.a,null))),c.a.createElement("div",{className:"sidebar__profile"},c.a.createElement(w.a,{src:e.photo,onClick:function(){return J.signOut()}}),c.a.createElement("div",{className:"sidebar__profileInfo"},c.a.createElement("h3",null,e.displayName),c.a.createElement("p",null,"#",e.uid.substring(0,5))),c.a.createElement("div",{className:"sidebar__profileIcons"},c.a.createElement(y.a,null),c.a.createElement(z.a,null),c.a.createElement(H.a,null))))},q=(n(81),n(82),n(53)),F=n.n(q),Q=n(54),R=n.n(Q),K=n(55),X=n.n(K),$=n(56),Y=n.n($),Z=n(57),ee=n.n(Z),ae=n(58),ne=n.n(ae),te=function(e){var a=e.channelName;return c.a.createElement("div",{className:"chatHeader"},c.a.createElement("div",{className:"chatHeader__left"},c.a.createElement("h3",null,c.a.createElement("span",{className:"chatHeader__hash"},"#"),a)),c.a.createElement("div",{className:"chatHeader__right"},c.a.createElement(F.a,null),c.a.createElement(R.a,null),c.a.createElement(X.a,null),c.a.createElement("div",{className:"chatHeader__search"},c.a.createElement("input",{type:"text",placeholder:"Search"}),c.a.createElement(Y.a,null)),c.a.createElement(ee.a,null),c.a.createElement(ne.a,null)))},ce=n(59),le=n.n(ce),re=n(60),se=n.n(re),oe=n(61),ie=n.n(oe),me=n(62),ue=n.n(me),de=(n(83),function(e){var a=e.timestamp,n=e.user,t=e.message;return c.a.createElement("div",{className:"message"},c.a.createElement(w.a,{src:n.photo}),c.a.createElement("div",{className:"message__info"},c.a.createElement("h4",null,n.displayName,c.a.createElement("span",{className:"message__timestamp"},new Date(null===a||void 0===a?void 0:a.toDate()).toUTCString())),c.a.createElement("p",null,t)))}),he=function(){var e=Object(d.c)(G),a=Object(d.c)(f),n=Object(d.c)(g),l=Object(t.useState)(""),r=Object(s.a)(l,2),o=r[0],i=r[1],m=Object(t.useState)([]),u=Object(s.a)(m,2),h=u[0],p=u[1];Object(t.useEffect)((function(){a&&U.collection("channels").doc(a).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){p(e.docs.map((function(e){return e.data()})))}))}),[a]);return c.a.createElement("div",{className:"chat"},c.a.createElement(te,{channelName:n}),c.a.createElement("div",{className:"chat__messages"},h.map((function(e){console.log(e)})),h.map((function(e){return c.a.createElement(de,{message:e.message,timestamp:e.timestamp,user:e.user})}))),c.a.createElement("div",{className:"chat__input"},c.a.createElement(le.a,{fontSize:"large"}),c.a.createElement("form",null,c.a.createElement("input",{type:"text",disabled:!a,value:o,onChange:function(e){return i(e.target.value)},placeholder:"Message #".concat(n)}),c.a.createElement("button",{className:"chat__inputButton",onClick:function(n){n.preventDefault(),U.collection("channels").doc(a).collection("messages").add({message:o,user:e,timestamp:P.a.firestore.FieldValue.serverTimestamp()}),i("")},disabled:!a,type:"submit"},"Send Message")),c.a.createElement("div",{className:"chat__inputIcon"},c.a.createElement(se.a,{fontSize:"large"}),c.a.createElement(ie.a,{fontSize:"large"}),c.a.createElement(ue.a,{fontSize:"large"}))))},pe=n(98),Ee=(n(84),function(){return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login__logo"},c.a.createElement("img",{src:"https://www.freepnglogos.com/uploads/discord-logo-png/discord-logo-logodownload-download-logotipos-1.png",alt:"discord logo"})),c.a.createElement(pe.a,{onClick:function(){J.signInWithPopup(L).catch((function(e){return alert(e.message)}))}},"Sign In"))});var fe=function(){var e=Object(d.b)(),a=Object(d.c)(G);return Object(t.useEffect)((function(){J.onAuthStateChanged((function(a){console.log(a),e(a?V({uid:a.uid,photo:a.photoURL,email:a.email,displayName:a.displayName}):x())}))}),[e]),console.log(a),c.a.createElement("div",{className:"app"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(W,null),c.a.createElement(he,null)):c.a.createElement(Ee,null))},ge=Object(h.a)({reducer:{user:M,app:v}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d.a,{store:ge},c.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[65,1,2]]]);
//# sourceMappingURL=main.e5c2e65c.chunk.js.map